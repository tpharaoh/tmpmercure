(function(t){function e(e){for(var n,a,s=e[0],c=e[1],u=e[2],m=0,p=[];m<s.length;m++)a=s[m],o[a]&&p.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={app:0},i=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1:function(t,e){},"1adf":function(t,e,r){},"1f93":function(t,e,r){"use strict";var n=r("5e9f"),o=r.n(n);o.a},2:function(t,e){},"56d7":function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"loadingStart",function(){return m}),r.d(n,"loadingStop",function(){return p}),r.d(n,"loadingAllow",function(){return f});r("cadf"),r("551c"),r("f751"),r("097d"),r("f9e3");var o,i=r("2b0e"),a=r("2f62"),s=r("bd86"),c="LOADING_ALLOW",u="LOADING_START",l="LOADING_STOP",m=function(t){var e=t.commit;e(u)},p=function(t){var e=t.commit;e(l)},f=function(t,e){var r=t.commit;r(c,e)};function d(){return{isLoading:0,loadingAllow:!0}}var b=d(),h={isLoading:function(t){return 0!==t.isLoading}},v=(o={},Object(s["a"])(o,u,function(t){t.loadingAllow&&(t.isLoading+=1)}),Object(s["a"])(o,l,function(t){t.loadingAllow=!0,t.isLoading>0&&(t.isLoading-=1)}),Object(s["a"])(o,c,function(t,e){t.loadingAllow=e}),o),g={namespaced:!0,state:b,getters:h,actions:n,mutations:v},O=(r("456d"),r("ac6a"),r("04e1")),y=r.n(O),j="AUTH_UPDATE_TOKEN",_="AUTH_ERROR_CHANGE",w="AUTH_RESET",k=r("75fc"),S=r("8c4f"),E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[r("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.signIn(e)}}},[r("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Sign in")]),r("label",{staticClass:"sr-only",attrs:{for:"username"}},[t._v("Email address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.username,expression:"credentials.username"}],staticClass:"form-control mb-1",attrs:{id:"username",type:"text",placeholder:"email",required:"",autofocus:""},domProps:{value:t.credentials.username},on:{input:function(e){e.target.composing||t.$set(t.credentials,"username",e.target.value)}}}),r("label",{staticClass:"sr-only",attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],staticClass:"form-control mb-3",attrs:{id:"password",type:"password",placeholder:"password"},domProps:{value:t.credentials.password},on:{input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}}),t.error?r("div",{staticClass:"invalid"},[t._v("\n      "+t._s(t.error)+"\n    ")]):t._e(),r("button",{staticClass:"btn btn-lg btn-primary btn-block mb-3",attrs:{type:"submit"}},[t._v("\n      Sign in\n    ")]),r("p",[t._v("\n      Don't have account yet?\n      "),r("router-link",{attrs:{to:{name:"SignUp"}}},[t._v("Sign up")])],1)])])},P=[],T={name:"SignIn",data:function(){return{credentials:{username:"",password:""}}},computed:{error:function(){return this.$store.getters["auth/error"]}},methods:{signIn:function(){var t=this;this.$store.dispatch("auth/login",this.credentials).then(function(){t.$router.push({name:"BookList"})}).catch(function(){t.$toastr.s("Please check the form")})}}},D=T,I=(r("8143"),r("2877")),$=Object(I["a"])(D,E,P,!1,null,null,null),A=$.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[r("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.signUp(e)}}},[r("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Sign up")]),r("form-input",{attrs:{label:"Team hash",item:t.item,property:"team",errors:t.errors},on:{input:t.updateValue}}),r("form-input",{attrs:{label:"Name",item:t.item,property:"name",errors:t.errors},on:{input:t.updateValue}}),r("form-input",{attrs:{label:"Username",item:t.item,property:"username",errors:t.errors},on:{input:t.updateValue}}),r("form-input",{attrs:{label:"Password",item:t.item,property:"plainPassword",errors:t.errors},on:{input:t.updateValue}}),r("button",{staticClass:"btn btn-lg btn-primary btn-block mb-3",attrs:{type:"submit"}},[t._v("\n      Sign up\n    ")]),r("p",[t._v("\n      Already have account?\n      "),r("router-link",{attrs:{to:{name:"SignIn"}}},[t._v("Sign in")])],1)],1)])},x=[],R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("label",{staticClass:"sr-only",attrs:{for:t.property}},[t._v(t._s(t.label))]),r("input",{staticClass:"form-control mb-1",attrs:{id:t.property,type:"text",placeholder:t.label,autofocus:""},domProps:{value:t.item[t.property]},on:{input:function(e){return t.$emit("input",t.property,e.target.value)}}}),t.isInvalid(t.property)?r("div",{staticClass:"invalid"},[t._v("\n    "+t._s(t.errors[t.property])+"\n  ")]):t._e()])},L=[],B={name:"FormInput",props:{label:{type:String,required:!0},item:{type:Object,required:!0},property:{type:String,required:!0},errors:{type:Object,required:!0}},methods:{isInvalid:function(t){return Object.keys(this.errors).length>0&&this.errors[t]}}},U=B,q=Object(I["a"])(U,R,L,!1,null,null,null),M=q.exports,F={components:{FormInput:M},computed:{item:function(){return this.$store.getters["user/item"]},errors:function(){return this.$store.getters["user/errors"]}},methods:{signUp:function(){var t=this;this.$store.dispatch("user/register").then(function(){t.$router.push("/signin"),t.$toastr.s("You are successfully registered")}).catch(function(){t.$toastr.e("Please check the form")})},updateValue:function(t,e){this.$store.commit("user/UPDATE_ITEM",Object(s["a"])({},t,e))}}},N=F,V=(r("1f93"),Object(I["a"])(N,C,x,!1,null,null,null)),G=V.exports,H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[r("ul",{staticClass:"navbar-nav m-auto"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"BookList"}}},[t._v("\n          Books\n        ")])],1),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.SignOut(e)}}},[t._v("\n          Sign out ("),r("strong",[t._v(t._s(t.username))]),t._v(")\n        ")])]),r("li",{staticClass:"nav-item"},[r("span",{staticClass:"navbar-text"},[t._v("\n          Team hash: "),r("strong",[t._v(t._s(t.team))])])])])]),r("div",{staticClass:"container"},[r("router-view")],1)])},J=[],z=(r("7f7f"),{name:"MainSlot",computed:{jwt:function(){return this.$store.getters["auth/jwtDecoded"]},username:function(){return this.jwt.name},team:function(){return this.jwt.team}},methods:{SignOut:function(){this.$store.dispatch("auth/logout")}}}),K=z,W=Object(I["a"])(K,H,J,!1,null,null,null),Y=W.exports,Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Books")]),r("button",{staticClass:"btn btn-primary mt-3 mb-3",attrs:{type:"button"},on:{click:t.create}},[t._v("\n    Create\n  ")]),r("table",{staticClass:"table"},[t._m(0),r("tbody",t._l(t.items,function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.id))]),r("td",[t._v(t._s(e.title))]),r("td",[t._v(t._s(e.author))]),r("td",[t._v(t._s(e.owner.name))]),r("td",[r("button",{staticClass:"btn btn-primary mr-1",attrs:{type:"button"},on:{click:function(r){return t.show(e.id)}}},[t._v("\n            Show\n          ")]),e.owner.id==t.jwt.id?[r("button",{staticClass:"btn btn-primary mr-1",attrs:{type:"button"},on:{click:function(r){return t.update(e.id)}}},[t._v("\n              Update\n            ")]),r("button",{staticClass:"btn btn-primary mr-1",attrs:{type:"button"},on:{click:function(r){return t.remove(e.id)}}},[t._v("\n              Remove\n            ")])]:t._e()],2)])}),0)])])},X=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("ID")]),r("th",{attrs:{scope:"col"}},[t._v("Title")]),r("th",{attrs:{scope:"col"}},[t._v("Author")]),r("th",{attrs:{scope:"col"}},[t._v("Owner")]),r("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}];r("8e6e");function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var et={computed:tt({},Object(a["c"])({items:"book/items"}),{jwt:function(){return this.$store.getters["auth/jwtDecoded"]}}),mounted:function(){this.getItems()},methods:tt({},Object(a["b"])({getItems:"book/getItems",removeItem:"book/remove"}),{create:function(){this.$router.push({name:"BookCreate"})},update:function(t){this.$router.push({name:"BookUpdate",params:{id:t}})},show:function(t){this.$router.push({name:"BookShow",params:{id:t}})},remove:function(t){var e=this;confirm("Are you sure?")&&this.removeItem(t).then(function(){e.getItems(),e.$toastr.s("Successfully removed")})}})},rt=et,nt=Object(I["a"])(rt,Q,X,!1,null,null,null),ot=nt.exports,it=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Add book")]),r("book-form",{attrs:{"handle-submit":t.onSendForm,item:t.item}})],1)},at=[],st=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(t.item)}}},[r("form-input",{attrs:{label:"Title",item:t.item,property:"title",errors:t.errors},on:{input:t.updateValue}}),r("form-input",{attrs:{label:"Author",item:t.item,property:"author",errors:t.errors},on:{input:t.updateValue}}),r("button",{staticClass:"btn btn-lg btn-primary mb-3",attrs:{type:"submit"}},[t._v("Save")])],1)},ct=[];function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function lt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ut(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var mt={components:{FormInput:M},props:{handleSubmit:{type:Function,required:!0},item:{type:Object,required:!0}},computed:lt({},Object(a["c"])({errors:"book/errors"})),beforeDestroy:function(){this.resetState()},methods:lt({},Object(a["b"])({resetState:"book/resetState"}),{updateValue:function(t,e){this.$store.commit("book/UPDATE_ITEM",Object(s["a"])({},t,e))}})},pt=mt,ft=Object(I["a"])(pt,st,ct,!1,null,null,null),dt=ft.exports;function bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bt(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var vt={components:{BookForm:dt},computed:ht({},Object(a["c"])({item:"book/item"})),methods:ht({},Object(a["b"])({create:"book/create"}),{onSendForm:function(){var t=this;this.create().then(function(){t.$router.push({name:"BookList"})}).catch(function(){})}})},gt=vt,Ot=Object(I["a"])(gt,it,at,!1,null,null,null),yt=Ot.exports,jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Update book")]),r("book-form",{attrs:{"handle-submit":t.onSendForm,item:t.item}})],1)},_t=[],wt=(r("6b54"),r("24b5")),kt=r.n(wt);function St(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?St(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):St(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Pt,Tt,Dt={data:function(){return{es:null}},computed:Et({},Object(a["c"])({mercureToken:"auth/mercureToken"})),methods:{mercureOpen:function(t){var e=new URL("https://mercuredemo.yap.life/hub");e.searchParams.append("topic","{+anything}"),this.es=new kt.a(e.toString(),{headers:{Authorization:"Bearer "+this.mercureToken}}),this.es.onmessage=function(e){t(JSON.parse(e.data))}},mercureClose:function(){this.es.close()}}},It=Dt,$t=Object(I["a"])(It,Pt,Tt,!1,null,null,null),At=$t.exports;function Ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ct(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ct(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Rt={components:{BookForm:dt},mixins:[At],computed:xt({},Object(a["c"])({item:"book/item"})),created:function(){var t=this;this.getItem(this.$route.params.id),this.mercureOpen(function(e){"Book"===e["@type"]&&t.item["@id"]===e["@id"]&&t.$store.commit("book/SET_ITEM",e)})},beforeDestroy:function(){this.mercureClose()},methods:xt({},Object(a["b"])({getItem:"book/getItem",update:"book/update"}),{onSendForm:function(){var t=this;this.update().then(function(){t.$router.push({name:"BookList"})}).catch(function(){})}})},Lt=Rt,Bt=Object(I["a"])(Lt,jt,_t,!1,null,null,null),Ut=Bt.exports,qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Book "+t._s(t.item.title))]),r("table",{staticClass:"table"},[r("tr",[r("th",[t._v("Title")]),r("td",[t._v(t._s(t.item.title))])]),r("tr",[r("th",[t._v("Author")]),r("td",[t._v(t._s(t.item.author))])]),r("tr",[r("th",[t._v("Owner")]),r("td",[t.item.owner?[t._v(t._s(t.item.owner.name))]:t._e()],2)])])])},Mt=[];function Ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ft(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ft(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Vt={mixins:[At],computed:Nt({},Object(a["c"])({item:"book/item"})),created:function(){var t=this;this.getItem(this.$route.params.id),this.mercureOpen(function(e){"Book"===e["@type"]&&t.item["@id"]===e["@id"]&&t.$store.commit("book/SET_ITEM",e)})},beforeDestroy:function(){this.mercureClose()},methods:Nt({},Object(a["b"])({getItem:"book/getItem"}))},Gt=Vt,Ht=Object(I["a"])(Gt,qt,Mt,!1,null,null,null),Jt=Ht.exports,zt=[{name:"BookList",path:"/books/",component:ot,meta:{requiresAuth:!0}},{name:"BookCreate",path:"/books/create",component:yt,meta:{requiresAuth:!0}},{name:"BookUpdate",path:"/books/edit/:id",component:Ut,meta:{requiresAuth:!0}},{name:"BookShow",path:"/books/:id",component:Jt,meta:{requiresAuth:!0}}];i["a"].use(S["a"]);var Kt=new S["a"]({mode:"history",routes:[{path:"/signin",name:"SignIn",component:A,meta:{requiresAuth:!1}},{path:"/signup",name:"SignUp",component:G,meta:{requiresAuth:!1}},{path:"/",component:Y,children:Object(k["a"])(zt),meta:{requiresAuth:!0}}]});Kt.beforeEach(function(t,e,r){var n=he.getters["auth/jwtDecoded"]||null,o=n&&n.exp>Date.now()/1e3;o?t.matched.some(function(t){return!t.meta.requiresAuth})&&r({name:"BookList"}):t.matched.some(function(t){return t.meta.requiresAuth})&&r({name:"SignIn"}),r()});var Wt=Kt,Yt=r("bc3a"),Qt=r.n(Yt);Qt.a.defaults.timeout=3e4,Qt.a.interceptors.request.use(function(t){he.commit("general/"+u);var e=he.getters["auth/jwtDecoded"]||null,r=e&&e.exp>Date.now()/1e3;return r&&(t.headers.common["Authorization"]="Bearer "+he.state.auth.token),t},function(t){return he.commit("general/"+l),Promise.reject(t)}),Qt.a.interceptors.response.use(function(t){return he.commit("general/"+l),t},function(t){return he.commit("general/"+l),t.response&&t.response.status&&401===t.response.status&&(window.location.href="/signin"),Promise.reject(t)});var Xt,Zt=Qt.a,te={login:function(t,e){var r=t.commit;r(_,null);var n="https://apidemo.yap.life/login";return Zt.post(n,e).then(function(t){r(j,t.data)}).catch(function(){r(_,"Incorrect username or password")})},logout:function(t){var e=t.commit;e(w),Wt.push({name:"SignIn"})}};function ee(){return{token:localStorage.getItem("token"),mercureToken:localStorage.getItem("mercureToken"),error:null}}var re=ee(),ne={jwtDecoded:function(t){if(t.token)return y()(t.token)},error:function(t){return t.error},mercureToken:function(t){return t.mercureToken}},oe=(Xt={},Object(s["a"])(Xt,j,function(t,e){localStorage.setItem("token",e.token),localStorage.setItem("mercureToken",e.mercureToken),t.token=e.token,t.mercureToken=e.mercureToken}),Object(s["a"])(Xt,_,function(t,e){t.error=e}),Object(s["a"])(Xt,w,function(t){localStorage.removeItem("token"),localStorage.removeItem("mercureToken");var e=ee();Object.keys(e).forEach(function(r){t[r]=e[r]})}),Xt),ie={namespaced:!0,state:re,getters:ne,actions:te,mutations:oe},ae=function(){return{item:{},items:[],errors:{}}},se={SET_ITEM:function(t,e){t.item=e},SET_ITEMS:function(t,e){t.items=e},UPDATE_ITEM:function(t,e){t.item=Object.assign({},t.item,e)},SET_ERRORS:function(t,e){t.errors=e},RESET_STATE:function(t){Object.assign(t,{item:{},items:[],errors:{}})}},ce={item:function(t){return t.item},items:function(t){return t.items},errors:function(t){return t.errors}},ue={resetState:function(t){var e=t.commit;e("RESET_STATE")},processErrors:function(t,e){var r=t.commit;if(e.violations){var n={};e.violations.map(function(t){Object.assign(n,Object(s["a"])({},t.propertyPath,t.message))}),r("SET_ERRORS",n)}throw e},getItems:function(t){var e=t.commit,r="https://apidemo.yap.life/books";return Zt.get(r).then(function(t){return t.data}).then(function(t){e("SET_ITEMS",t["hydra:member"])})},getItem:function(t,e){var r=t.commit,n="https://apidemo.yap.life/books/"+e;return Zt.get(n).then(function(t){return t.data}).then(function(t){r("SET_ITEM",t)})},create:function(t){var e=t.state,r=t.dispatch,n="https://apidemo.yap.life/books";return Zt.post(n,e.item).catch(function(t){r("processErrors",t.response.data)})},update:function(t){var e=t.state,r=t.dispatch,n="https://apidemo.yap.life/books/"+e.item.id;return Zt.put(n,e.item).catch(function(t){r("processErrors",t.response.data)})},remove:function(t,e){var r=t.state,n="https://apidemo.yap.life/books/"+e;return Zt.delete(n,r.item)}},le={namespaced:!0,state:ae,getters:ce,actions:ue,mutations:se},me=function(){return{item:{},errors:{}}},pe={SET_ITEM:function(t,e){t.item=e},UPDATE_ITEM:function(t,e){t.item=Object.assign({},t.item,e)},SET_ERRORS:function(t,e){t.errors=e}},fe={item:function(t){return t.item},errors:function(t){return t.errors}},de={processErrors:function(t,e){var r=t.commit;if(e.violations){var n={};e.violations.map(function(t){Object.assign(n,Object(s["a"])({},t.propertyPath,t.message))}),r("SET_ERRORS",n)}throw e},register:function(t){var e=t.state,r=t.commit,n=t.dispatch;r("SET_ERRORS",{});var o="https://apidemo.yap.life/register";return Zt.post(o,e.item).catch(function(t){n("processErrors",t.response.data)})}},be={namespaced:!0,state:me,getters:fe,actions:de,mutations:pe};i["a"].use(a["a"]);var he=new a["a"].Store({strict:!1,modules:{general:g,auth:ie,book:le,user:be}}),ve=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-view"),r("loader")],1)},ge=[],Oe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isLoading?r("div",{staticClass:"ajax-loader"}):t._e()},ye=[],je={name:"Loader",data:function(){return{}},computed:{isLoading:function(){return this.$store.state.general.isLoading}}},_e=je,we=(r("74ae"),Object(I["a"])(_e,Oe,ye,!1,null,null,null)),ke=we.exports,Se={name:"App",components:{Loader:ke}},Ee=Se,Pe=Object(I["a"])(Ee,ve,ge,!1,null,null,null),Te=Pe.exports,De=r("025a");i["a"].use(Wt),i["a"].use(De["a"]),i["a"].config.productionTip=!1,new i["a"]({store:he,router:Wt,render:function(t){return t(Te)}}).$mount("#app")},"5e9f":function(t,e,r){},"69af":function(t,e,r){},"74ae":function(t,e,r){"use strict";var n=r("69af"),o=r.n(n);o.a},8143:function(t,e,r){"use strict";var n=r("1adf"),o=r.n(n);o.a}});
//# sourceMappingURL=app.26d96054.js.map